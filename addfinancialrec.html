<!DOCTYPE html>
<html>
    <head>
        <title>ADD FINANCIAL RECORD</title>
        
        <a href="index.html"><h3>Home</h3></a>
        <link rel="stylesheet" href="styles.css">
        <img src="images/farm records.jpg" class="imgcenter" alt="LOGO" width="200px" height="200px">
        <h3>ADD FINANCIAL RECORD</h3>
    </head>
    <body>
       
        <form id="financialForm">
            <h3>ENTER YOUR RECORD DETAILS</h3>
            <label for ="transaction_name">Transaction Name</label>
            <input type="text" name="transaction_name" id="transaction_name" placeholder="Enter Transaction name">
            <br>
            <label for = "description ">Description</label>
            
            <input type="text" name="description" id="description" placeholder="Please describe your transaction">
             <br>
             <label for="amount">Amount</label>
             <input type="number" id="amount" name="number" placeholder="Enter Amount">
             <br>
             <label for="date">Date</label>
             <input type="date" name="date" id="date">
             <br>
             <input type="submit" value="Save Record">
             


        </form>
        <script>
                 const financialForm = document.getElementById("financialForm");

registerForm.addEventListener('submit', function (event){
    event.preventDefault();
    const transaction_name = document.getElementById('transaction_name').value;
    const description = document.getElementById('description').value;
    const amount = document.getElementById('amount').value;
    const date = document.getElementById('date').value;
    
    fetch("/api/add/financial_record", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({transaction_name,description,amount,date })
        })

        .then(response => response.json())
        .then(data=>{
            if (data.success){
                alert('Financial activity added');
                activityForm.reset();

            }else{
                alert(data.message||"failed to add financial activity")
            }
        })
        .catch(error=>
            console.error('ERROR:',error)
        );
    });
        </script>
    </body>
</html>